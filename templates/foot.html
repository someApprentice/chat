        <script type="text/javascript" src="js/jquery-3.2.1.min.js"></script>
        <script type="text/javascript" src="js/js.cookie.js"></script>

        <script type="text/javascript" src="js/openpgp.min.js"></script>
        <script type="text/javascript" src="js/openpgp.worker.min.js"></script>

        <script type="text/javascript" src="js/ejs.min.js"></script>

        <script id="header-template" type="text/template">
            <header>
                    <ul class="authorization-menu">
                        <li><b><%= name %></b></li>
                        <li>
                            <form method="post" name="logout" action="logout.php">
                                <input type="hidden" name="token" value="<%= token %>">
                                <input type="submit" value="Exit">
                            </form>
                        </li>
                    </ul>
            </header>
        </script>

        <script id="authorization-form-template" type="text/template">
            <form method="post" name="registration" action="registration.php" class="authorization-form">
                <label>
                    Login
                    <input type="text" name="login" pattern="\D{1, 20}" value="<%= login %>" required>
                    <span class="form-error">
                        <%= errors['login'] %>
                    </span>
                </label>

                <label>
                    Name
                    <input type="text" name="name" pattern="\D{1,20}" value="<%= name %>" required>
                    <span class="form-error">
                        <%= errors['name'] %>
                    </span>
                </label>

                <label>
                    Password
                    <input type="password" name="password" pattern="(.){6,128}" required>
                    <span class="form-error">
                        <%= errors['password'] %>
                    </span>
                </label>
                <label>
                    Retry password
                    <input type="password" name="retryPassword" pattern="(.){6,128}" required>
                    <span class="form-error">
                        <%= errors['retryPassword'] %>
                    </span>
                </label>

                <input type="submit" name="input" value="Registration">
            </form>
        </script>

        <script id="chat-box-template" type="text/template">
            <div class="chat-box">
                <div class="contact-box">
                    <form method="get" name="search-form" class="search-form" action="search.php">
                        <input type="text" name="q"">
                        <button type="submit">Search</button>
                    </form>

                    <ul class="contacts">
                    </ul>
                </div>
                
                <div class="conversation">
                    <div class="messages-container">
                        <div class="messages">
                            <div class="select-dialog">Select Dialog</div>
                        </div>
                    </div>
                </div>
            </div>
        </script>

        <script id="loader-template" type="text/template">
            <div class="<%= c %> loader">
                <img src="img/load.gif"> <%= m %>
            </div>
        </script>

        <script id="connection-error-template" type="text/template">
            <span class="connection-error">
               Connection error
            </span>
        </script>

        <script id="contacts-not-found-template" type="text/template">
            <span class="contacts-not-found">Nothing found</span>
        </script>

        <script id="contacts-template" type="text/template">
            <% for(var key in contacts) { %>
                <li  <% if (contacts[key].id == checkedId) { %> class="checked" <% } %>><a data-with="<%= contacts[key].id %>" href="conversation.php?with=<%= contacts[key].id %>"><label><%= contacts[key].name %></label></a></li>
            <% } %>
        </script>

        <script id="message-form-template" type="text/template">
            <form method="post" name="message-form" class="message-form" data-send-to="<%= to %>" action="send.php?to=<%= to %>">
                <textarea name="message"></textarea>
                <input type="hidden" name="token" value="<%= token %>">
                <input type="submit" name="submit" value="Send">
            </form>
        </script>

        <script id="get-more-messages-template" type="text/template">
            <div class="get-more-messages">
                <label><a data-with="<%= datawith %>" data-offset="<%= offset %>" data-count="<%= count %>" href="conversation.php?with=<%= datawith %>&offset=<%= offset %>">Get more messages</a></label>
            </div>
        </script>

        <script id="messages-template" type="text/template">
            <% for(var key in messages) { %>
                <div data-message-id="<%= messages[key].id %>" class="message">
                    <span class="date"><%= messages[key].date %></span>
                    <div class="message-container">
                        <div class="author"><a href="user.php?id=<%= messages[key].author %>"><%= messages[key].name %></a></div>
                        <div class="content"><%= messages[key].content %></div>
                    </div>
                </div>
            <% } %>
        </script>

        <script id="resend-message-template" type="text/template">
            <div class="message resend">
                <div class="message-container">
                    <div><a data-send-to="<%= to %>" data-token="<%= token %>" href="">Resend</a></div>
                    <div class="content"><%= content %></div>
                </div>
            </div>
        </script>

        <script id="passphrase-form-template" type="text/template">
            <div class="enter-passphrase">
                <form method="post" name="passphrase" data-with="<%= datawith %>" data-offset="<%= offset %>" action="conversation.php?with=<%= datawith %>&offset=<%= offset %>" class="passphrase-form">
                    <label>
                        Passphrase
                        <input type="password" name="passphrase" pattern="(.){6,128}" required>
                        <span class="passphrase-error">
                            Wrong passphrase
                        </span>
                    </label>
                </form>
            </div>
        </script>

        <script type="text/javascript" src="js/contacts.js"></script>
        <script type="text/javascript" src="js/conversation.js"></script>
        <script type="text/javascript" src="js/crypter.js"></script>
        <script type="text/javascript" src="js/backend.js"></script>
        <script type="text/javascript" src="js/chat.js"></script>
    </body>
</html>